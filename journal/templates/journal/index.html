<!DOCTYPE html>
<html lang="en">
    {% load static %}


    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
        <!-- JQuery -->
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <!-- Internal CSS -->
        <link rel="stylesheet" type="text/css" href="{% static 'journal/style.css' %}">
        <title>Climbing Tracker</title>
    </head>

    <body>
         <!-- Option 1: Bootstrap Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>

        <!-- <header>
            <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
              <div class="container-fluid">
                <a class="navbar-brand" href="#">Test</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="تبديل التنقل">
                  <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                  <ul class="navbar-nav me-auto mb-2 mb-md-0">
                    <li class="nav-item active">
                      <a class="nav-link" aria-current="page" href="#">Test 3</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="#">Test 2</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">TEst 4</a>
                    </li>
                  </ul>
                  <form class="d-flex">
                    <input class="form-control me-2" type="search" >
                    <button class="btn btn-outline-success" type="submit">Test 5</button>
                  </form>
                </div>
              </div>
            </nav>
        </header> -->
        <main>
            <div class="container-fluid">
                <h1>Climbing Tracker</h1>
                {% if latest_sessions %}
                <div class="row">
                    <h2>Last climb</h2>
                    <div class="col">
                        <a href={% url 'journal:detail' latest_sessions.0.id %}>{{ latest_sessions.0 }}</a></li>
                    </div>
                </div>
                <div class="row">
                    <h2>Last month</h2>
                    <div class="col">
                        {% if latest_sessions %}
                        <ul>
                        {% for session in latest_sessions %}
                            <li><a href={% url 'journal:detail' session.id %}>{{ session }}</a></li>
                        {% endfor %}
                        </ul>
                        {% else %}
                            <p>No sessions are available.</p>
                        {% endif %}
                    </div>
                </div>
                {% else %}
                    <p>No sessions are available.</p>
                {% endif %}
            </div>
        </main>
    </body>

    <script>
    //$("#test").load("http://127.0.0.1:8000/journal/api/sessions/");
    // $.get("http://127.0.0.1:8000/journal/api/sessions/",
    //      function(data, status) 
    //         { 
    //             $("#test").text(data);
    //         });
    // $.ajax({   
    //     type: "GET",
    //     url: "http://127.0.0.1:8000/journal/api/sessions/",
    //     success: function (data) {
    //         console.log(data);   
    //         var text = "";
    //         for (i = 0;i < data.length; i++)
    //         {
    //             text += data[i].center + " " + data[i].date;
    //         }
    //         $("#test").text(text);
    //     },
    // })
        
    </script>
</html>